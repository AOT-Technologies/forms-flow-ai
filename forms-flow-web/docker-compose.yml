version: '3.7'

services:

  forms-flow-web:
    container_name: forms-flow-ai
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      - '.:/app'
      - '/app/node_modules'
    ports:
      - '3000:3000'
    tty: true
    environment:
      - NODE_ENV=development
      # Form-IO-Roles
      - REACT_APP_CLIENT_NAME = 'rpas-client'
      - REACT_APP_STAFF_DESIGNER_NAME = 'rpas-formdesigner'
      - REACT_APP_STAFF_REVIEWER_NAME = 'rpas-reviewer'

      - REACT_APP_CLIENT_ID=5e8de2b47998f98b2a35554c                  # Form-IO-Client-Id
      - REACT_APP_STAFF_REVIEWER_ID=5e8de2b47998f941c835554d          # Form-IO-Reviewer-Id
      - REACT_APP_STAFF_DESIGNER_ID=5e8dc065a616c3864ab3a17b          # Form-IO-Administrator-Id

      - REACT_APP_USER_RESOURCE_FORM_ID=5e8dc068a616c36c24b3a17e      # Form-IO-FORM_ID

      - REACT_APP_API_SERVER_URL=http://207.216.46.125:3001           # Form-IO API-URL
      - REACT_APP_API_PROJECT_URL=http://207.216.46.125:3001          # Form-IO API-URL

      - REACT_APP_KEYCLOAK_JSON=/keycloak.json                        # Keycloak.json Path
      - REACT_APP_KEYCLOAK_CLIENT=forms-flow-web                      # Keycloak-client-name for web

      # Email
      - REACT_APP_BPM_API_BASE=http://207.216.46.125:8000             # Email-API-URL
      - REACT_APP_BPM_TOKEN_API=https://iam.aot-technologies.com/auth/realms/forms-flow-ai/protocol/openid-connect/token  # EMAIL TOKEN URL
      - REACT_APP_BPM_CLIENT_ID=3dd8d977-f9e0-43b8-9b56-72ad8349b3ea  # Secret Key for email
      - REACT_APP_KEYCLOAK_BPM_CLIENT=forms-flow-bpm                  # Keycloak-client-name for email

